<div class="container">
  <h2 class="mat-headline">Task Manager</h2>

  <div class="form mat-elevation-z4">
    <!-- Material Design Form Fields with Validation -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Title</mat-label>
      <input matInput type="text" placeholder="Title" [(ngModel)]="newTask.title" name="title" required>
      <mat-error *ngIf="!newTask.title">Title is required</mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Description</mat-label>
      <input matInput type="text" placeholder="Description" [(ngModel)]="newTask.description" name="description">
    </mat-form-field>

    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Due Date</mat-label>
      <input matInput type="datetime-local" [(ngModel)]="newTask.dueDateTime" name="dueDateTime" required>
      <mat-error *ngIf="!newTask.dueDateTime">Due Date is required</mat-error>
    </mat-form-field>

    <!-- Submit Button -->
    <button mat-raised-button color="primary" (click)="createTask()" [disabled]="!newTask.title || !newTask.dueDateTime">Create Task</button>
  </div>

  <!-- Task List -->
  <div class="task-list">
    <div *ngFor="let task of tasks" class="task-card mat-elevation-z4">
      <h3>{{ task.title }}</h3>
      <p>{{ task.description }}</p>
      <p>Status: {{ task.status }}</p>
      <p>Due: {{ task.dueDateTime | date:'medium' }}</p>

      <div class="button-group">
        <button mat-raised-button color="accent" (click)="updateTaskStatus(task, 'IN_PROGRESS')">Start</button>
        <button mat-raised-button color="primary" (click)="updateTaskStatus(task, 'COMPLETED')">Complete</button>
        <button mat-raised-button color="warn" (click)="deleteTask(task.id)">Delete</button>
      </div>
    </div>
  </div>
</div>
